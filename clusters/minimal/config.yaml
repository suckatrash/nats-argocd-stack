cluster:
  name: minimal
  server: https://kubernetes.default.svc

gcp:
  project: erik-sandbox-408216
  region: us-central1
  network: default

dns:
  baseDomain: gcp.iamusingtheinternet.com
  zoneName: iamusingtheinternet-delegated

apps:
  controlPlane:
    enabled: true
    host: app.gcp.iamusingtheinternet.com
    image: ghcr.io/connecteverything/control-plane:1.8.1
  prometheus:
    enabled: true
  pdcAgent:
    enabled: true
    hostedGrafanaId: "366672"
    cluster: prod-us-central-0
    # Requires 'grafana-pdc-token' secret in GCP Secret Manager

  nats:
    enabled: true
    host: nats1.gcp.iamusingtheinternet.com
    monitoringHost: nats-mon.gcp.iamusingtheinternet.com

    # Container image
    image:
      repository: nats
      tag: 2.12.3
      pullPolicy: IfNotPresent

    auth:
      operatorJwt: "eyJ0eXAiOiJKV1QiLCJhbGciOiJlZDI1NTE5LW5rZXkifQ.eyJqdGkiOiJHR0JUV0ZDTUlWSkdNQU03RlJGV1A1VjNNQVpWVEZFRUpHT1EySlBaTDJPWVZZTEY2Qk5BIiwiaWF0IjoxNzY3OTA5OTQyLCJpc3MiOiJPQlZZNUU2SkRLN1BDTFZXQUVTTlhYNTRJTFlKTExLWU9YVDZMR1BRWVU2UENSVkg0WUVDUUZTViIsIm5hbWUiOiJ0ZXN0MDEiLCJzdWIiOiJPQlZZNUU2SkRLN1BDTFZXQUVTTlhYNTRJTFlKTExLWU9YVDZMR1BRWVU2UENSVkg0WUVDUUZTViIsIm5hdHMiOnsic2lnbmluZ19rZXlzIjpbIk9CSU1MV1dXTDRQSkY1NUZJRU1QQ1pCRzRCNUFEUEFEMlZDNENQNk1aR1dJVTNBWjRGS1hZWUdQIl0sIm9wZXJhdG9yX3NlcnZpY2VfdXJscyI6WyJuYXRzOi8vbmF0czEuZ2NwLmlhbXVzaW5ndGhlaW50ZXJuZXQuY29tOjQyMjIiXSwic3lzdGVtX2FjY291bnQiOiJBQ0xaWFMyNkdVNkpZWFo3RElCSzROWkdON1NJSEROS0lPSkVIVUdVWVNMVExUWkM1NzNPQlA3SyIsInR5cGUiOiJvcGVyYXRvciIsInZlcnNpb24iOjJ9fQ.xaPc4jcLg5xF7JQYrAAoY3Ki39SHiy-EfGtK5HcNH_2DcayTBjYi-zGsZ5H9ZGQHW1ST8DCw38ZJ6eJEyBs1Dg"
      sysAccountJwt: "eyJ0eXAiOiJKV1QiLCJhbGciOiJlZDI1NTE5LW5rZXkifQ.eyJqdGkiOiJNQkRERTdEVFhZN1NFRVNPUVFPWjZVRTVHQlhDN1lCTE1ZRlRJVlQ2NENEN1FXS0RTSUZRIiwiaWF0IjoxNzY3OTA5OTQyLCJpc3MiOiJPQklNTFdXV0w0UEpGNTVGSUVNUENaQkc0QjVBRFBBRDJWQzRDUDZNWkdXSVUzQVo0RktYWVlHUCIsIm5hbWUiOiJTWVMiLCJzdWIiOiJBQ0xaWFMyNkdVNkpZWFo3RElCSzROWkdON1NJSEROS0lPSkVIVUdVWVNMVExUWkM1NzNPQlA3SyIsIm5hdHMiOnsiYXV0aG9yaXphdGlvbiI6e30sImRlZmF1bHRfcGVybWlzc2lvbnMiOnsicHViIjp7fSwic3ViIjp7fX0sImxpbWl0cyI6eyJjb25uIjotMSwiZGF0YSI6LTEsImV4cG9ydHMiOi0xLCJpbXBvcnRzIjotMSwibGVhZiI6LTEsInBheWxvYWQiOi0xLCJzdWJzIjotMSwid2lsZGNhcmRzIjp0cnVlfSwic2NwIjp7InN5c3RlbV9pZCI6IjM3emRnRWxUSkNvMXJNbkNSb2pOTFdMMk9zVSIsImFjY291bnRfaWQiOiIzN3pkZ0VKTXJQMTFteVVJNk16SkJPNXVObk8ifSwic2lnbmluZ19rZXlzIjpbIkFBQ1lDQldZWElGUkxDUVJHWlJXUzNRSjYzVUJDR0pTTk1KSUY0TEU3NUhXTjRQMzJJRjNZR0RWIiwiQUFTUFA2VFFHRFdBR0JJM0ROSVFBM0w2TFJaNzUzMkhaRDczRFBIVkpUM0xMRlU0WkhaWDdZRlUiXSwidHlwZSI6ImFjY291bnQiLCJ2ZXJzaW9uIjoyfX0.nkd4k0UOL6fUFfpL5vEiu7pwSWFQAYkpD3jTwoxRsrdISc4Od5YyCbhCtJTBx0Z94_BRxVcBNDVBCrxERSwnBA"
      sysAccountId: "ACLZXS26GU6JYXZ7DIBK4NZGN7SIHDNKIOJEHUGUYSLTLTZC573OBP7K"
      resolver:
        type: full                    # full or cache
        interval: 2m
        timeout: 1.9s
        pvc:
          enabled: true
          size: 1Gi
          storageClassName: ""

    # Clustering
    cluster:
      enabled: true
      replicas: 3
      tls:
        enabled: false
        secretName: ""

    # JetStream
    jetstream:
      enabled: true
      domain: "test01"                # e.g., spoke-minimal
      fileStore:
        enabled: true
        dir: /data
        pvc:
          enabled: true
          size: 10Gi
          storageClassName: standard-rwo
        maxSize: ""                   # defaults to PVC size
      memoryStore:
        enabled: true
        maxSize: 1Gi

    # Client TLS
    tls:
      enabled: true
      secretName: nats-tls-cert
      cert: tls.crt
      key: tls.key
      verify: false

    # WebSocket
    websocket:
      enabled: false
      port: 8080
      tls:
        enabled: false
        secretName: ""
      ingress:
        enabled: false
        hosts: []

    # Leaf Nodes
    leafnodes:
      enabled: false
      port: 7422
      tls:
        enabled: false
        secretName: ""
      remotes: []                     # list of {url: "nats-leaf://...", credentials: {...}}

    # Gateway (super-cluster)
    gateway:
      enabled: false
      name: ""
      port: 7222
      tls:
        enabled: false
        secretName: ""
      gateways: []                    # list of {name: "...", urls: [...]}

    # MQTT
    mqtt:
      enabled: false
      port: 1883
      tls:
        enabled: false
        secretName: ""

    # Monitoring
    monitor:
      enabled: true
      port: 8222

    # NATS Box (debug container)
    natsbox:
      enabled: true
      image:
        repository: natsio/nats-box
        tag: 0.14.5
        pullPolicy: IfNotPresent

    # Container resources
    resources:
      requests:
        cpu: 100m
        memory: 128Mi
      limits:
        cpu: 500m
        memory: 512Mi

    # Service configuration
    service:
      type: LoadBalancer
      ports:
        nats:
          enabled: true
        leafnodes:
          enabled: true
        websocket:
          enabled: true
        mqtt:
          enabled: true

certManager:
  email: erik048@gmail.com
  issuer: letsencrypt-prod
